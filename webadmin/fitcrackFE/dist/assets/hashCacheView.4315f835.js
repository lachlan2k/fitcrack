import{n as l}from"./index.a863b22b.js";import"./vendor.6aa46313.js";var d=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"cont"},[e("v-card-title",{staticClass:"py-2"},[e("v-text-field",{attrs:{clearable:"",flat:"",outlined:"","prepend-inner-icon":"mdi-database-search",label:"Search by password or hash","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),e("v-divider"),e("v-data-table",{ref:"table",attrs:{headers:t.headers,items:t.hashes,search:t.search,options:t.pagination,"server-items-length":t.totalItems,loading:t.loading,"footer-props":{itemsPerPageOptions:[25,50,100],itemsPerPageText:"Passwords per page"}},on:{"update:options":function(a){t.pagination=a}},scopedSlots:t._u([{key:"item.password",fn:function(a){var s=a.item;return[t._v(" "+t._s(s.password||"\u2013")+" ")]}},{key:"item.hash",fn:function(a){var s=a.item;return[e("div",{staticClass:"d-flex align-center mw-50"},[e("v-dialog",{attrs:{"max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("span",t._g({staticClass:"text-truncate d-inline-block"},o),[t._v(" "+t._s(s.hash)+" ")])]}}],null,!0)},[e("v-card",[e("v-card-title",{attrs:{"primary-title":""}},[t._v(" "+t._s(s.hash_type_name)+" ")]),e("v-card-text",[t._v(" "+t._s(s.hash)+" ")])],1)],1)],1)]}},{key:"item.added",fn:function(a){var s=a.item;return[t._v(" "+t._s(t.$moment(s.added).format("D.M.YYYY H:mm:ss"))+" ")]}},{key:"item.job",fn:function(a){var s=a.item;return[e("router-link",{staticClass:"middle",attrs:{to:{name:"jobDetail",params:{id:s.job.id}}}},[t._v(" "+t._s(s.job.name)+" ")])]}}])})],1)},h=[];const c={name:"HashesView",data:function(){return{interval:null,status:"active",search:"",totalItems:0,pagination:{},loading:!0,headers:[{text:"Password",value:"password",align:"start",sortable:!0},{text:"Hash type",value:"hash_type_name",align:"start",sortable:!0},{text:"Hash",value:"hash",align:"start",sortable:!0},{text:"Added",value:"added",align:"start",sortable:!0},{text:"Job",value:"job",align:"end",sortable:!0}],hashes:[]}},watch:{pagination:{handler(){this.loading=!0,this.loadHashes()},deep:!0}},mounted(){this.interval=setInterval(function(){this.loadHashes()}.bind(this),5e3)},beforeDestroy:function(){clearInterval(this.interval)},methods:{loadHashes(){this.axios.get(this.$serverAddr+"/hashes",{params:{page:this.pagination.page,per_page:this.pagination.rowsPerPage,order_by:this.pagination.sortBy,descending:this.pagination.descending,search:this.search}}).then(t=>{this.hashes=t.data.items,this.totalItems=t.data.total,this.loading=!1})},updateStatus:function(t){this.status=t,this.$refs.table.updatePagination({page:1,totalItems:this.totalItems})}}},n={};var u=l(c,d,h,!1,v,"01925b59",null,null);function v(t){for(let i in n)this[i]=n[i]}var _=function(){return u.exports}();export{_ as default};
